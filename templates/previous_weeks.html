<!DOCTYPE html>
<html>
<head>
    <title>Previous Weeks Results</title>
</head>
<body>
    <h1>Previous Weeks</h1>
    <form method="GET">
        <select name="week">
            <option value="">Select a week</option>
            {% for week_id in week_ids %}
            <option value="{{ week_id }}" {% if week_id == selected_week %}selected{% endif %}>Week {{ week_id }}</option>
            {% endfor %}
        </select>
        <button type="submit">View</button>
    </form>
    
    {% if selected_week %}
    <h2>Results for Week {{ selected_week }}</h2>
    <table border="1">
        <tr>
            <th>Title</th>
            <th>Episode</th>
            <th>Karma</th>
            <th>Comments</th>
            <th>Upvote Ratio</th>
            <th>URL</th>
        </tr>
        {% for show in selected_data %}
        <tr>
            <td>{{ show.title }}</td>
            <td>{{ show.episode }}</td>
            <td>{{ show.karma }}</td>
            <td>{{ show.comments }}</td>
            <td><a href="{{ show.url }}" target="_blank">Link</a></td>
        </tr>
        {% endfor %}
    </table>
    {% endif %}
</body>
</html>